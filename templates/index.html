{% extends "base.html" %}

{% block title %}Herotopia - Educational Chatbot & Digital Library{% endblock %}

{% block content %}
<div class="container-fluid p-0">
    <!-- Chatbot Section -->
    <div id="chatbot-section" class="section-container">
        <div class="container">
            <div class="row h-100">
                <!-- Chat Panel -->
                <div class="col-lg-8 mx-auto">
                    <div class="card chat-card shadow-lg">
                        <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                            <div>
                                <h5 class="mb-0">
                                    <span class="chat-icon">ü§ñ</span> Educational Assistant
                                </h5>
                                <small>Powered by VLLM - Offline AI Learning</small>
                            </div>
                            <div class="language-badge badge bg-success">
                                <span id="chat-language">English</span>
                            </div>
                        </div>
                        
                        <div class="card-body chat-body">
                            <div id="chat-messages" class="chat-messages">
                                <div class="chat-message bot-message">
                                    <div class="message-avatar">ü§ñ</div>
                                    <div class="message-content">
                                        <p>Hello! I'm your educational assistant. Ask me anything about your studies!</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="card-footer bg-light">
                            <div class="input-group">
                                <input 
                                    type="text" 
                                    id="chat-input" 
                                    class="form-control" 
                                    placeholder="Ask a question..."
                                    autocomplete="off"
                                >
                                <button 
                                    id="send-button" 
                                    class="btn btn-primary" 
                                    type="button"
                                >
                                    <span class="send-icon">üì§</span> Send
                                </button>
                            </div>
                            <small class="text-muted mt-2 d-block">
                                üí° Tip: Ask questions in your selected language for better responses
                            </small>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Digital Library Section -->
    <div id="library-section" class="section-container bg-light" style="display:none;">
        <div class="container">
            <h2 class="mb-4">
                <span class="library-icon">üìö</span> Digital Library
            </h2>
            
            <div class="row">
                <div class="col-lg-12">
                    <!-- Filter and Search -->
                    <div class="mb-4">
                        <input 
                            type="text" 
                            id="library-search" 
                            class="form-control" 
                            placeholder="Search library..."
                        >
                    </div>
                    
                    <!-- Library Content -->
                    <div id="library-content" class="library-grid">
                        <div class="text-center py-5">
                            <div class="spinner-border text-primary" role="status">
                                <span class="visually-hidden">Loading...</span>
                            </div>
                            <p class="mt-3">Loading library...</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- About Section -->
    <div id="about-section" class="section-container" style="display:none;">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 mx-auto">
                    <div class="card shadow-lg">
                        <div class="card-body">
                            <h2 class="card-title mb-4">
                                <span class="about-icon">‚ÑπÔ∏è</span> About Herotopia
                            </h2>
                            
                            <div class="about-content">
                                <section class="mb-4">
                                    <h4>üéØ Mission</h4>
                                    <p>
                                        Herotopia is an educational platform designed to help students learn effectively 
                                        using AI-powered conversations and a comprehensive digital library. All processing 
                                        happens locally on your device‚Äîno internet required!
                                    </p>
                                </section>

                                <section class="mb-4">
                                    <h4>‚ú® Features</h4>
                                    <ul>
                                        <li><strong>Smart Chatbot:</strong> AI assistant powered by VLLM, available offline</li>
                                        <li><strong>Multi-language Support:</strong> English, Arabic, and French</li>
                                        <li><strong>Digital Library:</strong> Browse PDFs, videos, images, and more</li>
                                        <li><strong>Privacy First:</strong> All data stays on your device</li>
                                        <li><strong>Educational Focus:</strong> Designed specifically for student learning</li>
                                    </ul>
                                </section>

                                <section class="mb-4">
                                    <h4>üõ†Ô∏è Technology Stack</h4>
                                    <ul>
                                        <li><strong>Backend:</strong> Flask (Python web framework)</li>
                                        <li><strong>AI Model:</strong> VLLM with TinyLlama/Qwen models</li>
                                        <li><strong>Frontend:</strong> Bootstrap 5 (offline), HTML5, JavaScript</li>
                                        <li><strong>Storage:</strong> Local file system</li>
                                    </ul>
                                </section>

                                <section class="mb-4">
                                    <h4>üìñ Supported Languages</h4>
                                    <div class="language-list">
                                        <span class="badge bg-info mx-1">üá¨üáß English</span>
                                        <span class="badge bg-info mx-1">üá∏üá¶ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© (Arabic)</span>
                                        <span class="badge bg-info mx-1">üá´üá∑ Fran√ßais (French)</span>
                                    </div>
                                </section>

                                <section>
                                    <h4>üöÄ Getting Started</h4>
                                    <ol>
                                        <li>Use the <strong>Chatbot</strong> tab to ask questions</li>
                                        <li>Switch languages using the language selector in the top navigation</li>
                                        <li>Browse educational materials in the <strong>Digital Library</strong></li>
                                        <li>All responses are generated locally for privacy and speed</li>
                                    </ol>
                                </section>

                                <hr>

                                <div class="alert alert-info">
                                    <strong>‚ÑπÔ∏è Note:</strong> The chatbot and all content are designed for educational 
                                    purposes. Always verify important information from authoritative sources.
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

{% endblock %}
